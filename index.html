<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SZ OBF V6 | FINAL</title>
    <style>
        :root { --b: #0055ff; --r: #ff0000; }
        body { background: #000; color: #fff; font-family: 'Arial'; margin: 0; padding: 10px; display: flex; flex-direction: column; align-items: center; }
        .container { width: 100%; max-width: 650px; border: 5px solid var(--b); border-radius: 20px; padding: 20px; background: #080808; box-shadow: 0 0 30px var(--b); }
        h1 { text-align: center; color: var(--r); text-shadow: 0 0 15px var(--r); font-size: 35px; }
        textarea { width: 100%; height: 250px; background: #000; color: #00ff00; border: 2px solid #222; border-radius: 10px; padding: 15px; font-size: 14px; outline: none; margin-bottom: 15px; }
        .btn-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        button, .up-btn { width: 100%; padding: 20px; font-size: 18px; font-weight: bold; border: none; border-radius: 12px; cursor: pointer; color: white; transition: 0.3s; text-align: center; text-transform: uppercase; }
        .b-blue { background: var(--b); box-shadow: 0 6px #002277; }
        .b-red { background: var(--r); box-shadow: 0 6px #770000; }
        button:active { transform: translateY(4px); box-shadow: none; }
        .dl-box { display: none; margin-top: 15px; background: #111; padding: 20px; border-radius: 15px; border: 2px dashed var(--r); }
        .inp { width: 100%; padding: 15px; margin-bottom: 10px; border-radius: 8px; border: 1px solid var(--b); background: #000; color: #fff; font-size: 16px; }
        #out { border-color: var(--r); color: var(--r); height: 150px; margin-top: 20px; }
    </style>
</head>
<body>

<div class="container">
    <h1>SZ OBFUSCATOR V6 ğŸ”¥</h1>
    
    <textarea id="in" placeholder="Ø§Ù„ØµÙ‚ Ø³ÙƒØ±Ø¨Øª Ø§Ù„Ù€ Lua Ù‡Ù†Ø§ (Ø­ØªÙ‰ Ù„Ùˆ ÙŠØ¨Ø¯Ø£ Ø¨Ù€ local)..."></textarea>
    
    <div class="btn-grid">
        <label class="up-btn b-blue">ğŸ“ Ø±ÙØ¹ Ù…Ù„Ù<input type="file" style="display:none" onchange="readFile(this)"></label>
        <button class="b-red" onclick="obfuscate()">ğŸš€ ØªØ´ÙÙŠØ± Ø§Ù„Ø­Ø±Ù‚</button>
        <button class="b-blue" onclick="copy()">ğŸ“‹ Ù†Ø³Ø®</button>
        <button class="b-red" onclick="showDl()">ğŸ’¾ ØªØ­Ù…ÙŠÙ„</button>
    </div>

    <div id="dlArea" class="dl-box">
        <input type="text" id="fname" class="inp" placeholder="Ø§Ø³Ù…_Ø§Ù„Ø³ÙƒØ±Ø¨Øª.lua">
        <button class="b-blue" onclick="download()">ØªØ£ÙƒÙŠØ¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„</button>
    </div>

    <textarea id="out" readonly placeholder="Ø§Ù„Ù†Ø§ØªØ¬ Ø§Ù„Ù…Ø´ÙØ±..."></textarea>
</div>

<script>
    function readFile(i){let f=i.files[0];let r=new FileReader();r.onload=function(){document.getElementById('in').value=r.result};r.readAsText(f)}

    function obfuscate() {
        let code = document.getElementById('in').value;
        if(!code) return alert("Ø­Ø· ÙƒÙˆØ¯ ÙŠØ§ Ø¹Ø¨Ø§Ø³!");

        // Ø­Ù„ Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ù€ local: Ù†ØºÙ„Ù Ø§Ù„ÙƒÙˆØ¯ Ø¯Ø§Ø®Ù„ Ø¯Ø§Ù„Ø© Ù…Ø¬Ù‡ÙˆÙ„Ø© (Anonymous Function) 
        // Ù„Ø¶Ù…Ø§Ù† Ø¹Ø¯Ù… Ø­Ø¯ÙˆØ« ØªØ¯Ø§Ø®Ù„ ÙÙŠ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª
        let wrappedCode = "function() \n" + code + "\n end";
        
        // ØªØ´ÙÙŠØ± Ø§Ù„Ù€ CharCode (Ø§Ù„Ø£Ø¶Ù…Ù† Ù„ÙƒÙ„ Ø§Ù„Ù‡Ø§ÙƒØ§Øª)
        let bytes = [];
        for (let j = 0; j < wrappedCode.length; j++) {
            bytes.push(wrappedCode.charCodeAt(j));
        }

        // Ø§Ù„Ù„ÙˆØ¯Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯ (V6) - ÙŠØ³ØªØ®Ø¯Ù… Ø§Ù„Ù€ pcall Ù„Ø¶Ù…Ø§Ù† Ø§Ù„ØªØ´ØºÙŠÙ„ Ø­ØªÙ‰ Ù„Ùˆ ÙÙŠÙ‡ Ø£Ø®Ø·Ø§Ø¡
        let res = `--[[ SZ ULTRA PROTECT ]]--\nlocal _ = {${bytes.join(',')}}\nlocal s = ""\nfor i=1, #_ do s = s .. string.char(_[i]) end\nlocal f, e = loadstring("return "..s)\nif f then \n    local ok, res = pcall(f())\n    if not ok then warn("Error: "..res) end\nelse \n    warn("Load Error: "..e)\nend`;

        document.getElementById('out').value = res;
        alert("âœ… ØªÙ… Ø§Ù„ØªØ´ÙÙŠØ± Ø¨Ù†Ø¬Ø§Ø­ (Ø­Ù„ Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ù€ Local)");
    }

    function copy(){let o=document.getElementById('out');o.select();document.execCommand('copy');alert("ØªÙ… Ø§Ù„Ù†Ø³Ø®!")}
    function showDl(){let a=document.getElementById('dlArea');a.style.display=(a.style.display==='block'?'none':'block')}
    function download(){
        let n=document.getElementById('fname').value;
        if(!n.endsWith(".lua")) return alert("ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙ†ØªÙ‡ÙŠ Ø¨Ù€ .lua");
        let b=new Blob([document.getElementById('out').value],{type:"text/plain"});
        let l=document.createElement("a");l.download=n;l.href=window.URL.createObjectURL(b);l.click();
    }
</script>

</body>
</html>
